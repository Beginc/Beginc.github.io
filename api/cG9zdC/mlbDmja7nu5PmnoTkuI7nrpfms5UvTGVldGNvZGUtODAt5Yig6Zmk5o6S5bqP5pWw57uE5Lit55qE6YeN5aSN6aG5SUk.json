{"title":"Leetcode-80-删除排序数组中的重复项II","date":"2020-01-24T03:25:02.000Z","date_formatted":{"ll":"Jan 24, 2020","L":"01/24/2020","MM-DD":"01-24"},"thumbnail":"post/数据结构与算法/Leetcode-80-删除排序数组中的重复项II/cover.jpg","link":"post/数据结构与算法/Leetcode-80-删除排序数组中的重复项II","categories":["数据结构与算法"],"updated":"2020-02-08T02:32:43.712Z","content":"<h1 id=\"题目\">题目<a href=\"#题目\" title=\"题目\"></a></h1><p>给定一个排序数组，你需要在原地删除重复出现的元素，使得每个元素最多出现两次，返回移除后数组的新长度。</p>\n<p>不要使用额外的数组空间，你必须在原地修改输入数组并在使用 O(1) 额外空间的条件下完成。</p>\n<h1 id=\"示例\">示例<a href=\"#示例\" title=\"示例\"></a></h1><p><strong>示例 1:</strong>\n    给定 nums = [1,1,1,2,2,3],</p>\n<pre><code>函数应返回新长度 length = 5, 并且原数组的前五个元素被修改为 1, 1, 2, 2, 3 。\n\n你不需要考虑数组中超出新长度后面的元素。</code></pre><p><strong>示例 2:</strong>\n    给定 nums = [0,0,1,1,1,1,2,3,3],</p>\n<pre><code>函数应返回新长度 length = 7, 并且原数组的前五个元素被修改为 0, 0, 1, 1, 2, 3, 3 。\n\n你不需要考虑数组中超出新长度后面的元素。</code></pre><h1 id=\"解法1：单指针--slots--lastel--num\">解法1：单指针 + slots + lastEl + num<a href=\"#解法1：单指针--slots--lastel--num\" title=\"解法1：单指针 + slots + lastEl + num\"></a></h1><p>思路同<a href=\"/post/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/Leetcode-26-%E5%88%A0%E9%99%A4%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E9%87%8D%E5%A4%8D%E9%A1%B9/\" title=\"Leetcode-26-删除排序数组中的重复项\">Leetcode-26-删除排序数组中的重复项</a>解法1，只不过我们增加一个<code>num</code>来记录元素重复出现的次数。</p>\n<p>当前元素<code>nums[i]</code></p>\n<ul><li><code>nums[i] == lastEl</code> 出现重复元素<ul><li><code>num &gt;= 2</code> 重复出现了2次及以上，<code>slots++</code>删除掉该元素</li>\n<li><code>num &lt; 2</code> 重复出现了不足2次，<code>num++</code>记录数量，并将该元素向前移动<code>slots</code>个位置</li>\n</ul></li>\n<li><code>nums[i] != lastEl</code> 出现下一个非重复元素，将元素向前移动<code>slots</code>个位置，并将<code>lastEl</code>设为当前元素, <code>num = 1</code>重置计数器</li>\n</ul><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">removeDuplicates</span><span class=\"params\">(<span class=\"keyword\">int</span>[] nums)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(nums.length == <span class=\"number\">0</span> || nums.length == <span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> nums.length;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span> slots = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> lastEl = nums[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"comment\">// 记录上个元素出现的次数</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> num = <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(nums[i] == lastEl)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(num &gt;= <span class=\"number\">2</span>)</span><br><span class=\"line\">                slots++;</span><br><span class=\"line\">            <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                num++;</span><br><span class=\"line\">                nums[i - slots] = nums[i];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            nums[i - slots] = nums[i];</span><br><span class=\"line\">            lastEl = nums[i];</span><br><span class=\"line\">            num = <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> nums.length - slots;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"复杂度分析\">复杂度分析<a href=\"#复杂度分析\" title=\"复杂度分析\"></a></h2><h3 id=\"时间\">时间<a href=\"#时间\" title=\"时间\"></a></h3><p>线性扫描<code>O(n)</code></p>\n<h3 id=\"空间\">空间<a href=\"#空间\" title=\"空间\"></a></h3><p><code>O(1)</code></p>\n<h2 id=\"进一步分析\">进一步分析<a href=\"#进一步分析\" title=\"进一步分析\"></a></h2><ul><li>当待删除元素出现在前半部分时，要移动的元素数量较多</li>\n<li>当待删除元素出现在后半部分时，要移动的元素数量较少</li>\n<li>当无待删除元素时，无需移动元素</li>\n</ul><h1 id=\"解法2：\">解法2：<a href=\"#解法2：\" title=\"解法2：\"></a></h1>","prev":{"title":"1-Spring入门","link":"post/Java/Spring/1-Spring入门"},"next":{"title":"Leetcode-26-删除排序数组中的重复项","link":"post/数据结构与算法/Leetcode-26-删除排序数组中的重复项"},"plink":"https://beginc.github.io/post/数据结构与算法/Leetcode-80-删除排序数组中的重复项II/","toc":[{"id":"题目","title":"题目","index":"1"},{"id":"示例","title":"示例","index":"2"},{"id":"解法1：单指针--slots--lastel--num","title":"解法1：单指针 + slots + lastEl + num","index":"3","children":[{"id":"复杂度分析","title":"复杂度分析","index":"3.1","children":[{"id":"时间","title":"时间","index":"3.1.1"},{"id":"空间","title":"空间","index":"3.1.2"}]},{"id":"进一步分析","title":"进一步分析","index":"3.2"}]},{"id":"解法2：","title":"解法2：","index":"4"}]}