{"title":"CentOS7下MySQL5.7安装","date":"2020-02-11T06:55:21.000Z","date_formatted":{"ll":"Feb 11, 2020","L":"02/11/2020","MM-DD":"02-11"},"thumbnail":"post/数据库/MySQL/CentOS7下MySQL5-7安装/cover.png","link":"post/数据库/MySQL/CentOS7下MySQL5-7安装","categories":["MySQL","数据库"],"updated":"2020-02-11T07:14:44.209Z","content":"<h1 id=\"下载安装文件\">下载安装文件<a href=\"#下载安装文件\" title=\"下载安装文件\"></a></h1><p><strong>下载链接</strong></p>\n<p><a href=\"https://dev.mysql.com/downloads/mysql/\" target=\"_blank\">下载链接</a></p>\n<img src=\"/post/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/CentOS7%E4%B8%8BMySQL5-7%E5%AE%89%E8%A3%85/1.png\" class=\"\">\n\n\n\n<p><strong>核心组件</strong></p>\n<ul><li><code>common</code></li>\n<li><code>libs</code></li>\n<li><code>client</code></li>\n<li><code>server</code></li>\n</ul><img src=\"/post/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/CentOS7%E4%B8%8BMySQL5-7%E5%AE%89%E8%A3%85/2.png\" class=\"\">\n\n<img src=\"/post/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/CentOS7%E4%B8%8BMySQL5-7%E5%AE%89%E8%A3%85/3.png\" class=\"\">\n\n<h1 id=\"解决包冲突\">解决包冲突<a href=\"#解决包冲突\" title=\"解决包冲突\"></a></h1><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rpm -e postfix</span><br><span class=\"line\">rpm -e mariadb-libs</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"安装\">安装<a href=\"#安装\" title=\"安装\"></a></h1><p><strong>安装顺序</strong></p>\n<ol><li><code>common</code></li>\n<li><code>libs</code></li>\n<li><code>client</code></li>\n<li><code>server</code></li>\n</ol><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rpm -ivh /opt/mysql-community-common-5.7.29-1.el7.x86_64.rpm</span><br><span class=\"line\">  </span><br><span class=\"line\">rpm -ivh /opt/mysql-community-libs-5.7.29-1.el7.x86_64.rpm</span><br><span class=\"line\"></span><br><span class=\"line\">rpm -ivh /opt/mysql-community-client-5.7.29-1.el7.x86_64.rpm</span><br><span class=\"line\"></span><br><span class=\"line\">rpm -ivh /opt/mysql-community-server-5.7.29-1.el7.x86_64.rpm</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"更改root密码\">更改Root密码<a href=\"#更改root密码\" title=\"更改Root密码\"></a></h1><p><strong>查看初始临时密码</strong></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat &#x2F;var&#x2F;log&#x2F;mysqld.log  | grep &quot;temporary password&quot;</span><br></pre></td></tr></table></figure>\n\n<img src=\"/post/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/CentOS7%E4%B8%8BMySQL5-7%E5%AE%89%E8%A3%85/4.png\" class=\"\">\n\n<p><strong>/var/log/mysqld.log无内容解决方法</strong></p>\n<ol><li>删除原来安装过的mysql残留的数据</li>\n</ol><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rm -rf /var/lib/mysql</span><br></pre></td></tr></table></figure>\n\n\n\n<ol><li>重启mysqld服务</li>\n</ol><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl restart mysqld.service</span><br></pre></td></tr></table></figure>\n\n<p><strong>更改Root密码</strong></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">set</span> password=password(<span class=\"string\">\"密码\"</span>)</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"开启mysql远程连接\">开启MySQL远程连接<a href=\"#开启mysql远程连接\" title=\"开启MySQL远程连接\"></a></h1><p>注意防火墙端口是否开放。</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; GRANT ALL PRIVILEGES ON *.* TO <span class=\"string\">'USERNAME'</span>@<span class=\"string\">'%'</span> IDENTIFIED BY <span class=\"string\">'PASSWORD'</span> WITH GRANT OPTION;</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure>\n\n","prev":{"title":"Linux下MySQL核心目录","link":"post/数据库/MySQL/Linux下MySQL核心目录"},"next":{"title":"Vagrant自动虚拟机部署","link":"post/自动化运维/Vagrant自动虚拟机部署"},"plink":"https://beginc.github.io/post/数据库/MySQL/CentOS7下MySQL5-7安装/","toc":[{"id":"下载安装文件","title":"下载安装文件","index":"1"},{"id":"解决包冲突","title":"解决包冲突","index":"2"},{"id":"安装","title":"安装","index":"3"},{"id":"更改root密码","title":"更改Root密码","index":"4"},{"id":"开启mysql远程连接","title":"开启MySQL远程连接","index":"5"}]}