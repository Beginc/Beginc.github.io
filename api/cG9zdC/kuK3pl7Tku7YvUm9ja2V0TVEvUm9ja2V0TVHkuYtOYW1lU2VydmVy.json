{"title":"RocketMQ之NameServer","date":"2020-02-27T11:27:05.000Z","date_formatted":{"ll":"Feb 27, 2020","L":"02/27/2020","MM-DD":"02-27"},"thumbnail":"post/中间件/RocketMQ/RocketMQ之NameServer/cover.png","link":"post/中间件/RocketMQ/RocketMQ之NameServer","categories":["RocketMQ","中间件"],"updated":"2020-02-29T16:17:23.341Z","content":"<h1 id=\"nameserver功能\">NameServer功能<a href=\"#nameserver功能\" title=\"NameServer功能\"></a></h1><h2 id=\"服务注册\">服务注册<a href=\"#服务注册\" title=\"服务注册\"></a></h2><p>每个Broker启动都需要向所有NameServer注册。</p>\n<h2 id=\"服务发现\">服务发现<a href=\"#服务发现\" title=\"服务发现\"></a></h2><p>每个Broker都需要与NameServer保持长连接，每隔30秒发送心跳。NameServer每个30秒检测Broker是否存活，如果检测到宕机，则将其从注册表中移除。</p>\n<h2 id=\"路由管理\">路由管理<a href=\"#路由管理\" title=\"路由管理\"></a></h2><p>NameServer需要维护路由信息，即Producer发送的消息应该发送给谁，Consumer应该找谁消费。<strong>当路由发生变化时，不会主动推送给客户端，而是由客户端定时拉取Topic最新的路由。</strong></p>\n<h1 id=\"nameserver集群\">NameServer集群<a href=\"#nameserver集群\" title=\"NameServer集群\"></a></h1><p>NameServer集群被设计成无状态的，集群中所有结点的信息保持最终一致性，可以轻松横向扩展。这种简易设计是为了提高NameServer的高性能。</p>\n","prev":{"title":"RocketMQ之高可用消息发送","link":"post/中间件/RocketMQ/RocketMQ之高可用消息发送"},"next":{"title":"RocketMQ各种消息","link":"post/中间件/RocketMQ/RocketMQ各种消息"},"plink":"https://beginc.github.io/post/中间件/RocketMQ/RocketMQ之NameServer/","toc":[{"id":"nameserver功能","title":"NameServer功能","index":"1","children":[{"id":"服务注册","title":"服务注册","index":"1.1"},{"id":"服务发现","title":"服务发现","index":"1.2"},{"id":"路由管理","title":"路由管理","index":"1.3"}]},{"id":"nameserver集群","title":"NameServer集群","index":"2"}]}