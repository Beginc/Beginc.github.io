{"title":"CentOS网络配置","date":"2019-09-09T13:34:39.000Z","date_formatted":{"ll":"Sep 9, 2019","L":"09/09/2019","MM-DD":"09-09"},"thumbnail":"post/Linux/CentOS网络配置/cover.jpg","link":"post/Linux/CentOS网络配置","categories":["Linux"],"updated":"2020-01-08T08:31:06.569Z","content":"<h1 id=\"虚拟机三种网络模式\">虚拟机三种网络模式<a href=\"#虚拟机三种网络模式\" title=\"虚拟机三种网络模式\"></a></h1><h2 id=\"nat\">NAT<a href=\"#nat\" title=\"NAT\"></a></h2><p>虚拟机借助NAT的功能，通过宿主机所在的网络来访问公网。在这种模式下宿主机成为双网卡主机，同时参与现有的宿主局域网和新建的虚拟局域网，但由于加设了一个虚拟的NAT服务器，使得虚拟局域网内的虚拟机在对外访问时，使用的则是宿主机的IP地址，这样从外部网络来看，只能看到宿主机，完全看不到新建的虚拟局域网。</p>\n<h2 id=\"桥接\">桥接<a href=\"#桥接\" title=\"桥接\"></a></h2><p>虚拟机就像是局域网中的一台独立的主机，需要手工为虚拟系统配置IP地址、子网掩码，而且还要和宿主机器处于同一网段，这样虚拟系统才能和宿主机器进行通信。</p>\n<h2 id=\"host-only\">Host-Only<a href=\"#host-only\" title=\"Host-Only\"></a></h2><p>在这种模式下宿主机上的所有虚拟机是可以相互通信的，但虚拟机和真实的网络是被隔离开的。\n在这种模式下新建了一个由所有虚拟机与宿主机所构成的局域网，但该局域网与宿主机本身所处的现有局域网是相互独立的，如果不做额外路由设置，这两个局域网之间不会连通，因此新建的局域网可以认为是一个单独从属于当前宿主机的私有网络，其成员为当前宿主机和相关的所有虚拟机。</p>\n<h1 id=\"centos7网络配置\">CentOS7网络配置<a href=\"#centos7网络配置\" title=\"CentOS7网络配置\"></a></h1><h2 id=\"桥接配置\">桥接配置<a href=\"#桥接配置\" title=\"桥接配置\"></a></h2><p>手工为虚拟系统配置IP地址、子网掩码。</p>\n<ol><li>查看当前网卡</li>\n</ol><img src=\"/post/Linux/CentOS%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/1.png\" class=\"\">\n\n<p>可知当前使用的为<code>enp0s3</code></p>\n<ol><li>修改配置文件</li>\n</ol><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /etc/sysconfig/network-scripts/</span><br><span class=\"line\">sudo vi ./ifcfg-enp0s3</span><br></pre></td></tr></table></figure>\n\n<p>主要参数</p>\n<ul><li><code>BOOTPROTO</code>获取的ip地址类型，static和none为静态地址，dhcp为动态获取ip地址</li>\n<li><code>ONBOOT</code>设置网卡是否在Linux系统启动时激活</li>\n<li><code>IPADDR</code>IP地址</li>\n<li><code>NETMASK</code>子网掩码</li>\n<li><code>GATEWAY</code>网关地址</li>\n<li><code>DNS1</code>首选DNS服务器</li>\n<li><code>DNS2</code>辅助选DNS服务器</li>\n</ul><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 静态IP</span></span><br><span class=\"line\">BOOTPROTO=static</span><br><span class=\"line\"><span class=\"comment\"># 设置IP</span></span><br><span class=\"line\">IPADDR=192.168.1.101</span><br><span class=\"line\"><span class=\"comment\"># 网络掩码</span></span><br><span class=\"line\">NETMASK=255.255.255.0</span><br><span class=\"line\"><span class=\"comment\"># 和本机网关保持一致</span></span><br><span class=\"line\">GATEWAY=192.168.1.1</span><br><span class=\"line\"><span class=\"comment\"># DNS1</span></span><br><span class=\"line\">DNS1=114.114.114.114</span><br><span class=\"line\"><span class=\"comment\"># DNS2</span></span><br><span class=\"line\">DNS2=8.8.8.8</span><br></pre></td></tr></table></figure>\n\n<ol><li>重启网络服务</li>\n</ol><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service network restart</span><br></pre></td></tr></table></figure>\n","prev":{"title":"各种源配置","link":"post/其他/各种源配置"},"next":{"title":"Java集合","link":"post/Java/Java语言/Java集合"},"plink":"https://beginc.github.io/post/Linux/CentOS网络配置/","toc":[{"id":"虚拟机三种网络模式","title":"虚拟机三种网络模式","index":"1","children":[{"id":"nat","title":"NAT","index":"1.1"},{"id":"桥接","title":"桥接","index":"1.2"},{"id":"host-only","title":"Host-Only","index":"1.3"}]},{"id":"centos7网络配置","title":"CentOS7网络配置","index":"2","children":[{"id":"桥接配置","title":"桥接配置","index":"2.1"}]}]}