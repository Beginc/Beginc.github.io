{"title":"Docker之数据持久化","date":"2020-02-29T12:15:25.000Z","date_formatted":{"ll":"Feb 29, 2020","L":"02/29/2020","MM-DD":"02-29"},"thumbnail":"post/Docker/Docker之数据持久化/cover.jpg","link":"post/Docker/Docker之数据持久化","categories":["Docker"],"updated":"2020-02-29T16:08:39.042Z","content":"<h1 id=\"docker数据持久化简介\">Docker数据持久化简介<a href=\"#docker数据持久化简介\" title=\"Docker数据持久化简介\"></a></h1><p>有时候我们需要对容器上的数据做持久化，而不是让数据随着容器的销毁而销毁，如数据库容器，这时候我们就需要使用Docker的数据持久化机制。</p>\n<h1 id=\"docker数据卷\">Docker数据卷<a href=\"#docker数据卷\" title=\"Docker数据卷\"></a></h1><h2 id=\"常用命令\">常用命令<a href=\"#常用命令\" title=\"常用命令\"></a></h2><p><strong>查看数据卷</strong></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker volume ls</span><br></pre></td></tr></table></figure>\n\n<img src=\"/post/Docker/Docker%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/image-20200229212145005.png\" class=\"\">\n\n<p><strong>查看数据卷详细信息</strong></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker volume inspect 数据卷id</span><br></pre></td></tr></table></figure>\n\n<img src=\"/post/Docker/Docker%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/image-20200229212306906.png\" class=\"\">\n\n<p><strong>删除数据卷</strong></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker volume rm 数据卷id</span><br></pre></td></tr></table></figure>\n\n<img src=\"/post/Docker/Docker%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/image-20200229212354422.png\" class=\"\">\n\n<p><strong>创建数据卷</strong></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker volume create 数据卷名称</span><br></pre></td></tr></table></figure>\n\n<img src=\"/post/Docker/Docker%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/image-20200229213253806.png\" class=\"\">\n\n<h2 id=\"绑定数据卷\">绑定数据卷<a href=\"#绑定数据卷\" title=\"绑定数据卷\"></a></h2><ul><li>-v：绑定数据卷</li>\n</ul><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -v volume名称:容器内目录 镜像名</span><br></pre></td></tr></table></figure>\n\n<p>使用docker volume inspect查看到数据卷绑定到本机的目录</p>\n<ul><li>Mountpoint</li>\n</ul><img src=\"/post/Docker/Docker%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/image-20200229213132962.png\" class=\"\">\n\n<h1 id=\"docker-bind-mount\">Docker Bind Mount<a href=\"#docker-bind-mount\" title=\"Docker Bind Mount\"></a></h1><p>即直接绑定数据卷，这种方式不具有移植性。</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -v 宿主机目录:容器内目录 镜像名</span><br></pre></td></tr></table></figure>","prev":{"title":"Docker之Dockerfile","link":"post/Docker/Docker之Dockerfile"},"next":{"title":"Docker之网络","link":"post/Docker/Docker之网络"},"plink":"https://beginc.github.io/post/Docker/Docker之数据持久化/","toc":[{"id":"docker数据持久化简介","title":"Docker数据持久化简介","index":"1"},{"id":"docker数据卷","title":"Docker数据卷","index":"2","children":[{"id":"常用命令","title":"常用命令","index":"2.1"},{"id":"绑定数据卷","title":"绑定数据卷","index":"2.2"}]},{"id":"docker-bind-mount","title":"Docker Bind Mount","index":"3"}]}