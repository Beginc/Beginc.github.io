{"title":"Docker之容器","date":"2020-02-29T12:14:17.000Z","date_formatted":{"ll":"Feb 29, 2020","L":"02/29/2020","MM-DD":"02-29"},"thumbnail":"post/Docker/Docker之容器/cover.jpg","link":"post/Docker/Docker之容器","categories":["Docker"],"updated":"2020-02-29T16:08:36.274Z","content":"<h1 id=\"docker容器常用命令\">Docker容器常用命令<a href=\"#docker容器常用命令\" title=\"Docker容器常用命令\"></a></h1><p><strong>创建启动容器</strong></p>\n<ul><li>-i：以交互模式运行</li>\n<li>-t：终端</li>\n<li>-d：后台运行</li>\n<li>-P：容器内部端口<strong>随机</strong>映射到主机的高端口。</li>\n<li>-p：宿主机端口:容器内端口</li>\n<li>--name：容器名称</li>\n</ul><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -it --name redis:5.0.7</span><br></pre></td></tr></table></figure>\n\n<img src=\"/post/Docker/Docker%E4%B9%8B%E5%AE%B9%E5%99%A8/image-20200229204638468.png\" class=\"\">\n\n<p><strong>查看容器</strong></p>\n<ul><li>-a：显示所有容器（包括未运行的）</li>\n</ul><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker ps -a</span><br></pre></td></tr></table></figure>\n\n<img src=\"/post/Docker/Docker%E4%B9%8B%E5%AE%B9%E5%99%A8/image-20200229204819375.png\" class=\"\">\n\n<p><strong>启动容器</strong></p>\n<p>容器id不用填满</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker start 容器id</span><br></pre></td></tr></table></figure>\n\n<img src=\"/post/Docker/Docker%E4%B9%8B%E5%AE%B9%E5%99%A8/image-20200229205044464.png\" class=\"\">\n\n<p><strong>停止容器</strong></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker stop 容器id</span><br></pre></td></tr></table></figure>\n\n<img src=\"/post/Docker/Docker%E4%B9%8B%E5%AE%B9%E5%99%A8/image-20200229205145900.png\" class=\"\">\n\n<p><strong>进入容器</strong></p>\n<p>命令同docker run</p>\n<ul><li><p>docker exec退出终端容器不会停止</p>\n</li>\n<li><p>docket attach退出终端容器会停止</p>\n</li>\n</ul><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker <span class=\"built_in\">exec</span> -ti redis(容器名) /bin/bash</span><br></pre></td></tr></table></figure>\n\n<img src=\"/post/Docker/Docker%E4%B9%8B%E5%AE%B9%E5%99%A8/image-20200229205407743.png\" class=\"\">\n\n<p><strong>删除容器</strong></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker rm 容器id</span><br></pre></td></tr></table></figure>\n\n<img src=\"/post/Docker/Docker%E4%B9%8B%E5%AE%B9%E5%99%A8/image-20200229205540987.png\" class=\"\">\n\n<p><strong>清理容器</strong></p>\n<p>删除所有终止运行的容器</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker container prune</span><br></pre></td></tr></table></figure>\n\n<p><strong>查看容器网络端口</strong></p>\n<p>容器端口/协议 -&gt; IP:端口</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker port 容器名</span><br></pre></td></tr></table></figure>\n\n<img src=\"/post/Docker/Docker%E4%B9%8B%E5%AE%B9%E5%99%A8/image-20200229205742020.png\" class=\"\">\n\n<p><strong>查看容器日志</strong></p>\n<p>可查看容器内部的标准输出</p>\n<ul><li>-f：持续跟踪最新日志</li>\n</ul><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker logs -f 容器id</span><br></pre></td></tr></table></figure>\n\n<p><strong>查看容器所有信息</strong></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker inspect 容器id</span><br></pre></td></tr></table></figure>","prev":{"title":"Docker之镜像","link":"post/Docker/Docker之镜像"},"next":{"title":"9-Spring之扩展","link":"post/Java/Spring/9-Spring之扩展"},"plink":"https://beginc.github.io/post/Docker/Docker之容器/","toc":[{"id":"docker容器常用命令","title":"Docker容器常用命令","index":"1"}]}