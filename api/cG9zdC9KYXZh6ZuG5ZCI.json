{"title":"Java集合","date":"2019-09-07T14:57:07.000Z","thumbnail":"/post/Java集合/cover.jpg","link":"post/Java集合","tags":["Java集合"],"categories":["Java"],"updated":"2019-09-07T15:50:15.570Z","content":"<h1 id=\"Java集合体系简介\">Java集合体系简介<a href=\"post/Java集合#Java集合体系简介\"></a></h1><h2 id=\"Collection接口\">Collection接口<a href=\"post/Java集合#Collection接口\"></a></h2><p>所有集合类的根接口。</p>\n<h2 id=\"List接口\">List接口<a href=\"post/Java集合#List接口\"></a></h2><p>一种有序列表的集合。</p>\n<h2 id=\"Set接口\">Set接口<a href=\"post/Java集合#Set接口\"></a></h2><p>一种保证没有重复元素的集合。</p>\n<h2 id=\"Map接口\">Map接口<a href=\"post/Java集合#Map接口\"></a></h2><p>一种通过键值查找的映射表集合。</p>\n<h2 id=\"Iterator\">Iterator<a href=\"post/Java集合#Iterator\"></a></h2><p>Java统一访问集合的方式。</p>\n<h1 id=\"List\">List<a href=\"post/Java集合#List\"></a></h1><p><strong>创建</strong><br><code>List.of(...)</code></p>\n<figure class=\"highlight java\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">List&lt;Integer&gt; list = List.of(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>);</span><br><span class=\"line\"><span class=\"keyword\">for</span> (Integer item : list) &#123;</span><br><span class=\"line\">    System.out.println(item);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n\n<p><strong>访问</strong><br><code>void add(E e)</code>在末尾添加一个元素：<br><code>void add(int index, E e)</code>在指定索引添加一个元素<br><code>int remove(int index)</code>删除指定索引的元素<br><code>int remove(Object e)</code>删除某个元素<br><code>E get(int index)</code>获取指定索引的元素<br><code>int size()</code>获取链表大小（包含元素的个数）</p>\n<figure class=\"highlight java\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">List&lt;String&gt; list = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">list.add(<span class=\"string\">\"1\"</span>);</span><br><span class=\"line\">list.add(<span class=\"string\">\"2\"</span>);</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (String item : list) &#123;</span><br><span class=\"line\">    System.out.println(item);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">list.remove(<span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (String item : list) &#123;</span><br><span class=\"line\">    System.out.println(item);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\">System.out.println(list.get(<span class=\"number\">0</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">list.add(<span class=\"string\">\"Hello\"</span>);</span><br><span class=\"line\"><span class=\"comment\">// Hello</span></span><br><span class=\"line\">System.out.println(list.get(<span class=\"number\">1</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">list.remove(<span class=\"string\">\"Hello\"</span>);</span><br><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (String item : list) &#123;</span><br><span class=\"line\">    System.out.println(item);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\">System.out.println(list.size());</span><br></pre></td></tr></table></div></figure>\n\n<p><strong>与数组的相互转换</strong></p>\n<ol>\n<li><code>Object[] toArray()</code><br>缺点是丢失了类型信息</li>\n</ol>\n<figure class=\"highlight java\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Object[] array = list.toArray();</span><br></pre></td></tr></table></div></figure>\n\n<ol start=\"2\">\n<li><code>Object[] toArray(T[])</code><br>传入一个类型相同的数组，<code>List</code>内部自动把元素复制到传入的<code>Array</code>中。</li>\n</ol>\n<ul>\n<li>如果传入的数组不够大，那么List内部会创建一个新的刚好够大的数组，填充后返回。</li>\n<li>如果传入的数组比List元素还要多，那么填充完元素后，剩下的数组元素一律填充null。</li>\n</ul>\n<figure class=\"highlight java\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Integer[] array = list.toArray(<span class=\"keyword\">new</span> Integer[<span class=\"number\">4</span>]);</span><br></pre></td></tr></table></div></figure>\n\n<h2 id=\"实现类\">实现类<a href=\"post/Java集合#实现类\"></a></h2><h3 id=\"ArrayList\">ArrayList<a href=\"post/Java集合#ArrayList\"></a></h3><p>底层实现为数组。</p>\n<h3 id=\"LinkedList\">LinkedList<a href=\"post/Java集合#LinkedList\"></a></h3><p>底层实现为链表。</p>\n","next":{"title":"Pipeline框架设计---Registry","link":"post/Pipeline框架设计-Registry"},"plink":"https://beginc.github.io/post/Java集合/","toc":[{"title":"Java集合体系简介","id":"Java集合体系简介","index":"1","children":[{"title":"Collection接口","id":"Collection接口","index":"1.1"},{"title":"List接口","id":"List接口","index":"1.2"},{"title":"Set接口","id":"Set接口","index":"1.3"},{"title":"Map接口","id":"Map接口","index":"1.4"},{"title":"Iterator","id":"Iterator","index":"1.5"}]},{"title":"List","id":"List","index":"2","children":[{"title":"实现类","id":"实现类","index":"2.1","children":[{"title":"ArrayList","id":"ArrayList","index":"2.1.1"},{"title":"LinkedList","id":"LinkedList","index":"2.1.2"}]}]}]}