{"title":"logback介绍","date":"2020-01-28T09:05:39.000Z","date_formatted":{"ll":"Jan 28, 2020","L":"01/28/2020","MM-DD":"01-28"},"thumbnail":"post/Java/日志/logback介绍/cover.jpg","link":"post/Java/日志/logback介绍","categories":["Java","日志"],"updated":"2020-02-08T02:39:33.705Z","content":"<h1 id=\"包介绍\">包介绍<a href=\"#包介绍\" title=\"包介绍\"></a></h1><ul><li><code>logback-core.jar</code>基础核心包</li>\n<li><code>logback-classic.jar</code>对<code>slf4j</code> API的直接实现</li>\n<li><code>logback-access.jar</code>实现在HTTP环境中进行日志</li>\n</ul><h1 id=\"架构\">架构<a href=\"#架构\" title=\"架构\"></a></h1><h2 id=\"组件\">组件<a href=\"#组件\" title=\"组件\"></a></h2><p>基本和<a href=\"/post/Java/%E6%97%A5%E5%BF%97/Java%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6%E6%A6%82%E5%86%B5/\" title=\"Java日志框架概况\">Java日志框架概况</a>中说明的组件相同（名称等略有不同）。</p>\n<h2 id=\"层次性\">层次性<a href=\"#层次性\" title=\"层次性\"></a></h2><p>遵从<a href=\"/post/Java/%E6%97%A5%E5%BF%97/Java%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6%E6%A6%82%E5%86%B5/\" title=\"Java日志框架概况\">Java日志框架概况</a>说明的层次性。</p>\n<h1 id=\"配置\">配置<a href=\"#配置\" title=\"配置\"></a></h1><h2 id=\"配置文件查找顺序\">配置文件查找顺序<a href=\"#配置文件查找顺序\" title=\"配置文件查找顺序\"></a></h2><ol><li>找<code>clasapath:logback-test.xml</code></li>\n<li>找<code>clasapath:logback.groovy</code></li>\n<li>找<code>clasapath:logback.xml</code></li>\n<li>找<code>META-INF\\services\\ch.qos.logback.classic.spi</code>中指定的类(ServiceProvider)</li>\n<li>使用<code>BasicConfigurator</code>进行基本配置，默认输出到控制台</li>\n</ol><h2 id=\"配置模板\">配置模板<a href=\"#配置模板\" title=\"配置模板\"></a></h2><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">configuration</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">\"属性名称\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"属性值\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">appender</span> <span class=\"attr\">name</span>=<span class=\"string\">\"STDOUT\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ch.qos.logback.core.ConsoleAppender\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">encoder</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">pattern</span>&gt;</span>%d&#123;HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;36&#125; - %msg%n<span class=\"tag\">&lt;/<span class=\"name\">pattern</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">encoder</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">appender</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">logger</span> <span class=\"attr\">name</span>=<span class=\"string\">\"logger\"</span> <span class=\"attr\">level</span>=<span class=\"string\">\"info\"</span> <span class=\"attr\">additivity</span>=<span class=\"string\">\"false\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">logger</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">root</span> <span class=\"attr\">level</span>=<span class=\"string\">\"debug\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">appender-ref</span> <span class=\"attr\">ref</span>=<span class=\"string\">\"STDOUT\"</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">root</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"常用appender\">常用Appender<a href=\"#常用appender\" title=\"常用Appender\"></a></h1><h2 id=\"consoleappender\">ConsoleAppender<a href=\"#consoleappender\" title=\"ConsoleAppender\"></a></h2><p>输出到控制台。</p>\n<p><strong>target</strong></p>\n<ul><li><code>System.out</code></li>\n<li><code>System.error</code></li>\n</ul><h2 id=\"fileappender\">FileAppender<a href=\"#fileappender\" title=\"FileAppender\"></a></h2><p>输出到文件。</p>\n<p><strong>append</strong>\n是否追加。</p>\n<p><strong>file</strong>\n文件名</p>\n<p><strong>prudent</strong>\n是否安全写入文件（并发写情况下有用，若为<code>true</code>默认为追加）</p>\n<p><strong>immediateFlush</strong>\n是否写的时候立即刷新缓冲区。</p>\n<h2 id=\"rollingfileappender\">RollingFileAppender<a href=\"#rollingfileappender\" title=\"RollingFileAppender\"></a></h2><p>滚动追加。（有<code>FileAppender</code>所有属性）</p>\n<p><strong>rollingPolicy</strong>\n指定如何滚动。</p>\n<p><strong>triggeringPolicy</strong>\n指定何时触发滚动。</p>\n","prev":{"title":"日志框架迁移","link":"post/Java/日志/日志框架迁移"},"next":{"title":"log4j介绍","link":"post/Java/日志/log4j介绍"},"plink":"https://beginc.github.io/post/Java/日志/logback介绍/","toc":[{"id":"包介绍","title":"包介绍","index":"1"},{"id":"架构","title":"架构","index":"2","children":[{"id":"组件","title":"组件","index":"2.1"},{"id":"层次性","title":"层次性","index":"2.2"}]},{"id":"配置","title":"配置","index":"3","children":[{"id":"配置文件查找顺序","title":"配置文件查找顺序","index":"3.1"},{"id":"配置模板","title":"配置模板","index":"3.2"}]},{"id":"常用appender","title":"常用Appender","index":"4","children":[{"id":"consoleappender","title":"ConsoleAppender","index":"4.1"},{"id":"fileappender","title":"FileAppender","index":"4.2"},{"id":"rollingfileappender","title":"RollingFileAppender","index":"4.3"}]}]}